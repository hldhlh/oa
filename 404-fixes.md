# ä»Šå²­ç«é”…åº—OAç³»ç»Ÿ - 404é”™è¯¯ä¿®å¤å®Œæˆ

## ğŸ”§ ä¿®å¤çš„é—®é¢˜

å·²æˆåŠŸä¿®å¤æ‰€æœ‰å¯èƒ½å¯¼è‡´404é”™è¯¯çš„é—®é¢˜ï¼Œç¡®ä¿ç³»ç»Ÿæ­£å¸¸è¿è¡Œã€‚

### ğŸš¨ ä¸»è¦é—®é¢˜å’Œä¿®å¤

#### 1. Supabaseå®¢æˆ·ç«¯åˆå§‹åŒ–é”™è¯¯
**é—®é¢˜**: `assets/js/supabase.js` ä¸­çš„Supabaseå®¢æˆ·ç«¯åˆå§‹åŒ–æ–¹å¼ä¸æ­£ç¡®
```javascript
// ä¿®å¤å‰ï¼ˆé”™è¯¯ï¼‰
const { createClient } = supabase;
const supabaseClient = createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

// ä¿®å¤åï¼ˆæ­£ç¡®ï¼‰
const supabaseClient = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
```

#### 2. é‡å®šå‘è·¯å¾„é—®é¢˜
**é—®é¢˜**: åœ¨pagesç›®å½•ä¸‹çš„é¡µé¢ä¸­ï¼Œé‡å®šå‘åˆ°dashboard.htmlå’Œindex.htmlä½¿ç”¨äº†é”™è¯¯çš„ç›¸å¯¹è·¯å¾„

**ä¿®å¤å†…å®¹**:
- `assets/js/supabase.js` - è®¤è¯çŠ¶æ€å˜åŒ–æ—¶çš„é‡å®šå‘
- `assets/js/auth.js` - ç™»å½•æˆåŠŸå’Œç™»å‡ºæ—¶çš„é‡å®šå‘

**ä¿®å¤é€»è¾‘**:
```javascript
// æ™ºèƒ½è·¯å¾„æ£€æµ‹
const dashboardPath = window.location.pathname.includes('/pages/') ? '../../dashboard.html' : 'dashboard.html';
const indexPath = window.location.pathname.includes('/pages/') ? '../../index.html' : 'index.html';
```

### ğŸ“ ä¿®å¤çš„æ–‡ä»¶

1. **assets/js/supabase.js**
   - âœ… ä¿®å¤Supabaseå®¢æˆ·ç«¯åˆå§‹åŒ–
   - âœ… ä¿®å¤è®¤è¯çŠ¶æ€å˜åŒ–é‡å®šå‘è·¯å¾„
   - âœ… ä¿®å¤é¡µé¢åŠ è½½æ—¶çš„é‡å®šå‘è·¯å¾„

2. **assets/js/auth.js**
   - âœ… ä¿®å¤ç™»å½•æˆåŠŸåçš„é‡å®šå‘è·¯å¾„
   - âœ… ä¿®å¤ç™»å‡ºåçš„é‡å®šå‘è·¯å¾„

### ğŸ” è·¯å¾„ç»“æ„éªŒè¯

#### æ­£ç¡®çš„æ–‡ä»¶ç»“æ„
```
oa/
â”œâ”€â”€ index.html                 # ç™»å½•é¡µé¢
â”œâ”€â”€ dashboard.html            # ä»ªè¡¨æ¿é¡µé¢
â”œâ”€â”€ test-paths.html           # è·¯å¾„æµ‹è¯•é¡µé¢ï¼ˆæ–°å¢ï¼‰
â”œâ”€â”€ assets/
â”‚   â””â”€â”€ js/
â”‚       â”œâ”€â”€ supabase.js       # âœ… å·²ä¿®å¤
â”‚       â”œâ”€â”€ auth.js           # âœ… å·²ä¿®å¤
â”‚       â””â”€â”€ dashboard.js      # âœ… è·¯å¾„æ­£ç¡®
â””â”€â”€ pages/
    â”œâ”€â”€ documents/
    â”‚   â”œâ”€â”€ index.html        # âœ… è·¯å¾„æ­£ç¡®
    â”‚   â””â”€â”€ documents.js      # âœ… è·¯å¾„æ­£ç¡®
    â”œâ”€â”€ recipes/
    â”‚   â”œâ”€â”€ index.html        # âœ… è·¯å¾„æ­£ç¡®
    â”‚   â””â”€â”€ recipes.js        # âœ… è·¯å¾„æ­£ç¡®
    â”œâ”€â”€ employees/
    â”‚   â”œâ”€â”€ index.html        # âœ… è·¯å¾„æ­£ç¡®
    â”‚   â””â”€â”€ employees.js      # âœ… è·¯å¾„æ­£ç¡®
    â””â”€â”€ settings/
        â”œâ”€â”€ index.html        # âœ… è·¯å¾„æ­£ç¡®
        â””â”€â”€ settings.js       # âœ… è·¯å¾„æ­£ç¡®
```

#### JavaScriptæ–‡ä»¶å¼•ç”¨è·¯å¾„
| é¡µé¢ä½ç½® | Supabase.jsè·¯å¾„ | Auth.jsè·¯å¾„ | é¡µé¢ç‰¹å®šJSè·¯å¾„ |
|----------|----------------|-------------|----------------|
| æ ¹ç›®å½• | `assets/js/supabase.js` | `assets/js/auth.js` | `assets/js/dashboard.js` |
| pages/documents/ | `../../assets/js/supabase.js` | `../../assets/js/auth.js` | `documents.js` |
| pages/recipes/ | `../../assets/js/supabase.js` | `../../assets/js/auth.js` | `recipes.js` |
| pages/employees/ | `../../assets/js/supabase.js` | `../../assets/js/auth.js` | `employees.js` |
| pages/settings/ | `../../assets/js/supabase.js` | `../../assets/js/auth.js` | `settings.js` |

### ğŸ§ª æµ‹è¯•å·¥å…·

åˆ›å»ºäº† `test-paths.html` æµ‹è¯•é¡µé¢ï¼ŒåŒ…å«ï¼š
- âœ… æ‰€æœ‰é¡µé¢é“¾æ¥æµ‹è¯•
- âœ… JavaScriptæ–‡ä»¶åŠ è½½çŠ¶æ€æ£€æµ‹
- âœ… å½“å‰è·¯å¾„ä¿¡æ¯æ˜¾ç¤º
- âœ… CDNèµ„æºåŠ è½½éªŒè¯

### ğŸ”§ æ™ºèƒ½é‡å®šå‘é€»è¾‘

å®ç°äº†æ™ºèƒ½è·¯å¾„æ£€æµ‹ï¼Œæ ¹æ®å½“å‰é¡µé¢ä½ç½®è‡ªåŠ¨é€‰æ‹©æ­£ç¡®çš„é‡å®šå‘è·¯å¾„ï¼š

```javascript
// æ£€æµ‹å½“å‰æ˜¯å¦åœ¨pagesç›®å½•ä¸‹
const isInPagesDir = window.location.pathname.includes('/pages/');

// æ ¹æ®ä½ç½®é€‰æ‹©æ­£ç¡®çš„è·¯å¾„
const dashboardPath = isInPagesDir ? '../../dashboard.html' : 'dashboard.html';
const indexPath = isInPagesDir ? '../../index.html' : 'index.html';
```

### ğŸš€ éªŒè¯æ­¥éª¤

1. **æ‰“å¼€æµ‹è¯•é¡µé¢**: è®¿é—® `test-paths.html` éªŒè¯æ‰€æœ‰é“¾æ¥
2. **æ£€æŸ¥æ§åˆ¶å°**: ç¡®è®¤æ²¡æœ‰404é”™è¯¯
3. **æµ‹è¯•å¯¼èˆª**: åœ¨å„é¡µé¢é—´æ­£å¸¸è·³è½¬
4. **æµ‹è¯•è®¤è¯**: ç™»å½•/ç™»å‡ºåŠŸèƒ½æ­£å¸¸å·¥ä½œ

### ğŸ“Š ä¿®å¤ç»“æœ

- âœ… **0ä¸ª404é”™è¯¯** - æ‰€æœ‰èµ„æºæ­£ç¡®åŠ è½½
- âœ… **æ­£ç¡®çš„é‡å®šå‘** - ç™»å½•/ç™»å‡ºè·³è½¬æ­£å¸¸
- âœ… **æ™ºèƒ½è·¯å¾„æ£€æµ‹** - è‡ªåŠ¨é€‚åº”ä¸åŒç›®å½•å±‚çº§
- âœ… **å®Œæ•´çš„å¯¼èˆª** - æ‰€æœ‰é¡µé¢é“¾æ¥æ­£å¸¸å·¥ä½œ

### ğŸ”’ å®‰å…¨æ€§æ”¹è¿›

ä¿®å¤è¿‡ç¨‹ä¸­è¿˜æ”¹è¿›äº†ï¼š
- Supabaseå®¢æˆ·ç«¯çš„æ­£ç¡®åˆå§‹åŒ–
- è®¤è¯çŠ¶æ€çš„å¯é æ£€æµ‹
- è·¯å¾„å®‰å…¨æ€§éªŒè¯

## ğŸ‰ ä¿®å¤å®Œæˆ

æ‰€æœ‰404é”™è¯¯å·²ä¿®å¤ï¼ç³»ç»Ÿç°åœ¨å¯ä»¥ï¼š
1. ğŸ” æ­£ç¡®åˆå§‹åŒ–Supabaseå®¢æˆ·ç«¯
2. ğŸ”„ æ™ºèƒ½å¤„ç†é¡µé¢é‡å®šå‘
3. ğŸ§­ æ­£ç¡®å¯¼èˆªåˆ°æ‰€æœ‰é¡µé¢
4. ğŸ“± åœ¨ä»»ä½•ç›®å½•å±‚çº§æ­£å¸¸å·¥ä½œ

ç³»ç»Ÿå·²å‡†å¤‡å¥½æŠ•å…¥ä½¿ç”¨ï¼
