<link rel="stylesheet" href="style.css">

<div class="container">
    <div class="timeline-controls">
        <div id="team-selector-container">
            <label for="team-selector">团队:</label>
            <select id="team-selector"></select>
        </div>
        <button id="settings-btn" title="设置时间范围">⚙️</button>
    </div>
    <div id="timeline-container">
        <div id="timeline-header">
            <!-- 时间刻度将在这里动态生成 -->
        </div>
        <div id="timeline-lanes">
            <div class="lane" data-user-id="current_user">
                <div class="lane-header">
                    <span>我的排班</span>
                </div>
                <div class="lane-body">
                    <!-- 排班条目将在这里动态生成 -->
                </div>
            </div>
        </div>
    </div>
</div>

<div id="settings-modal" class="modal-overlay" style="display: none;">
    <div class="modal-content">
        <h3>设置时间轴范围</h3>
        <p>选择您想要显示的时间范围。结束时间可大于开始时间以显示跨天视图（例如：开始=21, 结束=26 代表 21:00 至次日 02:00）。</p>
        <div class="form-group">
            <label for="start-hour-input">开始时间 (0-23点):</label>
            <input type="number" id="start-hour-input" min="0" max="23">
        </div>
        <div class="form-group">
            <label for="end-hour-input">结束时间 (1-48点):</label>
            <input type="number" id="end-hour-input" min="1" max="48">
        </div>
        <div class="modal-actions">
            <button id="cancel-settings-btn">取消</button>
            <button id="save-settings-btn">保存</button>
        </div>
    </div>
</div>

<div id="timeline-context-menu" class="context-menu" style="display: none;">
    <ul>
        <li id="add-schedule-item-ctx">在此处添加排班</li>
    </ul>
</div>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script src="script.js"></script> 